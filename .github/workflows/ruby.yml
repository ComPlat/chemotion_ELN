name: ELN GitHub Actions 3

on:
  push:
    branches: [ github-actions ]

  workflow_dispatch:

jobs:

  docker_container:
    runs-on: ubuntu-latest
    container: 
      # image: complat/complat-ubuntu-runner:0.12.20
    #   #options: --mount type=bind,source=/,target=/__w/chemotion_ELN/chemotion_ELN
      #options: --mount type=bind, source=/home/gitlab-runner, target=/home/runner/work/chemotion_ELN/chemotion_ELN
      options: -v "/__w/chemotion_ELN/chemotion_ELN":"/home/gitlab-runner"
      image: maipy/github_actions:xs
      # volumes:
      #   - /home/gitlab-runner
        # - ${{ github.workspace }}:/home/gitlab-runner
      #image: azul/zulu-openjdk-alpine:8-jre
    steps:
      - name: docker
        #shell: bash
      # uses: docker://complat/complat-ubuntu-runner:0.10.20
        run: |
            #cd ${{ github.workspace }}
            #cd /github/home
            #docker exec -i $(docker run --name complat -it -d --mount type=bind,source="$(pwd)",target="$(pwd)" complat/complat-ubuntu-runner:0.12.20) bash
            whoami
            #cd /var/lib/docker/volumes
            pwd
            ls -la
            # /usr/bin/docker images
            # /usr/bin/docker ps -a
            # docker logs complat
            # sudo pwd
            # sudo ls -la
            # echo "HOME"
            # #$HOME
            # cd ~
            # pwd
            # ls -la
            # java -version
            # which java
            # cd /usr/lib/jvm/zulu16-ca-amd64
            # ls -la
            #sudo wget --no-verbose -O gitlab-runner-1 https://bwsyncandshare.kit.edu/s/pSKZc34PBKZY57B/download
            # TODO just copy dotfiles to HOME
            # sudo tar -xf gitlab-runner-1
            # ls -la
            # sudo mv gitlab-runner/* ~
            # echo "FULL HOME"
            # cd ~
            # pwd
            # ls -la
            #sudo ls -la
            # cd gitlab-runner
            # ls -la            
            # cd /github/home
        #working-directory: /github/home
